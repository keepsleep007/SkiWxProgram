(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/club/car-page-info"],{"03d4":function(a,t,e){"use strict";(function(a){var n=e("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(e("7eb4")),u=n(e("ee10")),r=e("b816"),i={components:{},data:function(){return{id:"",data:{avatar:null,type:"",goType:"",price:"",personNum:"",boardNum:"",packageNum:"",goTime:"",goPlace:"",endPlace:"",remark:"",createTime:"",phone:"",wechat:"",createBy:"",uid:"",goArea:""},buttonFlag:!1,del_buttonFlag:!1,snowField:[]}},onShow:function(){var a=this;return(0,u.default)(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.getAreaData();case 2:return t.next=4,a.getData();case 4:case"end":return t.stop()}}),t)})))()},methods:{editBtn:function(){a.navigateTo({url:"/pages/club/car-page-add?id="+this.id})},dialogClose:function(){console.log("点击关闭")},dialogConfirm:function(){console.log("点击确认");var t={};t.id=this.id,this.request("/app_api/carPool/delCarPoolInfo",t,"GET").then((function(t){t&&(console.log("delCarPoolInfo",t),200==t.code&&(a.showToast({title:"删除成功",icon:"success",duration:2e3}),setTimeout((function(){a.reLaunch({url:"/pages/club/club?tabIndex=0"})}),1e3)))}))},delBtn:function(){this.msgType="info",this.$refs.alertDialog.open()},isEdit:function(){this.data.uid==(0,r.getToken)()&&(this.buttonFlag=!0,this.del_buttonFlag=!0)},getData:function(){var a=this;return(0,u.default)(o.default.mark((function t(){var e;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.id=a.id,t.next=4,a.request("/app_api/carPool/getCarPoolInfo",e,"GET").then((function(t){t&&(console.log("getCarPoolInfo",t),200==t.code&&(a.data.avatar=t.data.avatar,a.data.type=t.data.type,a.data.goType=t.data.goType,a.data.price=t.data.price,a.data.personNum=t.data.personNum,a.data.boardNum=t.data.boardNum,a.data.packageNum=t.data.packageNum,a.data.goTime=t.data.goTime,a.data.goPlace=t.data.goPlace,a.data.endPlace=t.data.endPlace,null==t.data.remark?a.data.remark="":a.data.remark=t.data.remark,a.data.createTime=t.data.createTime,null==t.data.phone?a.data.phone="":a.data.phone=t.data.phone,null==t.data.wechat?a.data.wechat="":a.data.wechat=t.data.wechat,a.data.createBy=t.data.createBy,a.data.uid=t.data.uid,a.data.goArea=a.codeToName(t.data.goArea),a.isEdit()))}));case 4:case"end":return t.stop()}}),t)})))()},makePhoneCall:function(t){a.makePhoneCall({phoneNumber:t,success:function(){console.log("拨打电话成功！")},fail:function(a){console.error("拨打电话失败：",a)}})},getAreaData:function(){var a=this;return(0,u.default)(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.request("/app_api/carPool/loadAreaData").then((function(t){if(t){for(var e=[],n=0;n<t.data.length;n++)e[n]={},e[n]["text"]=t.data[n].name,e[n]["value"]=t.data[n].id;a.snowField=e}}));case 2:case"end":return t.stop()}}),t)})))()},codeToName:function(a){for(var t in this.snowField)if(this.snowField[t].value==a)return this.snowField[t].text}},computed:{fullName:function(){var a,t;return a=1==this.data.type?"车找人":"人找车",t=1==this.data.goType?"去雪场":"雪场返回",a+"-"+t}},onLoad:function(a){console.log("CarOnLoad",a),this.id=a.id},onShareAppMessage:function(a){return"button"===a.from&&console.log(a.target),{title:"分享了拼车信息，一起看看吧~",path:"/pages/club/car-page-info?id="+this.id}}};t.default=i}).call(this,e("df3c")["default"])},"09a8":function(a,t,e){"use strict";e.r(t);var n=e("03d4"),o=e.n(n);for(var u in n)["default"].indexOf(u)<0&&function(a){e.d(t,a,(function(){return n[a]}))}(u);t["default"]=o.a},7305:function(a,t,e){"use strict";e.r(t);var n=e("8883"),o=e("09a8");for(var u in o)["default"].indexOf(u)<0&&function(a){e.d(t,a,(function(){return o[a]}))}(u);e("aaf5");var r=e("828b"),i=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=i.exports},8883:function(a,t,e){"use strict";e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return u})),e.d(t,"a",(function(){return n}));var n={uniCard:function(){return e.e("uni_modules/uni-card/components/uni-card/uni-card").then(e.bind(null,"dd67"))},uniPopup:function(){return e.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(e.bind(null,"8570"))},uniPopupDialog:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog")]).then(e.bind(null,"3b6c"))}},o=function(){var a=this.$createElement,t=(this._self._c,null!=this.data.avatar?this.getBaseUrl():null);this.$mp.data=Object.assign({},{$root:{g0:t}})},u=[]},9539:function(a,t,e){"use strict";(function(a,t){var n=e("47a9");e("d090");n(e("3240"));var o=n(e("7305"));a.__webpack_require_UNI_MP_PLUGIN__=e,t(o.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},aaf5:function(a,t,e){"use strict";var n=e("e86c"),o=e.n(n);o.a},e86c:function(a,t,e){}},[["9539","common/runtime","common/vendor"]]]);