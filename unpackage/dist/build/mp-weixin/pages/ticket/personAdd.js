(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ticket/personAdd"],{"0631":function(n,e,t){"use strict";var o=t("0a53"),s=t.n(o);s.a},"0a53":function(n,e,t){},"0d63":function(n,e,t){"use strict";t.r(e);var o=t("f560"),s=t("7123");for(var i in s)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return s[n]}))}(i);t("0631");var a=t("828b"),r=Object(a["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=r.exports},4025:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t("b816"),s={data:function(){return{addBtn:!1,updateBtn:!1,person:{name:"",phone:"",idcard:""}}},onLoad:function(n){console.log("options",n),null!=n.id?this.getUserInfo(n.id):this.addBtn=!0},methods:{savePersonInfo:function(e){var t=this;if(this.validatePersonInfo()){var s={};s.skiAppUserId=(0,o.getToken)(),s.userName=this.person.name,s.userPhone=this.person.phone,s.userIdcard=this.person.idcard,this.request("/app_api/userContacts/addUserContacts",s,"POST").then((function(e){console.log("addUserContacts:",e),e&&(200==e.code&&(t.addBtn=!1,n.showToast({title:"新增成功",icon:"success",duration:3e3})),500==e.code&&n.showToast({title:e.msg,icon:"none",duration:3e3}))}))}},getUserInfo:function(n){var e=this,t={};t.skiAppUserId=(0,o.getToken)(),t.id=n,this.request("/app_api/userContacts/getUserInfoApp",t,"GET").then((function(n){console.log(" getUserInfoApp",n),n&&200==n.code&&(e.person.id=n.data.id,e.person.name=n.data.userName,e.person.phone=n.data.userPhone,e.person.idcard=n.data.userIdcard,e.updateBtn=!0)}))},updatePersonInfo:function(e){var t=this;if(this.validatePersonInfo()){var o={};o.id=e,o.userName=this.person.name,o.userPhone=this.person.phone,o.userIdcard=this.person.idcard,this.request("/app_api/userContacts/updateUserInfoApp",o,"POST").then((function(e){console.log("updateUserInfoApp:",e),e&&200==e.code&&(t.updateBtn=!1,n.showToast({title:"更新成功",icon:"success",duration:3e3}))}))}},validatePersonInfo:function(){if(!this.person.name)return n.showToast({title:"姓名不能为空",icon:"none"}),!1;if(!this.person.phone||!/^1[3-9]\d{9}$/.test(this.person.phone))return n.showToast({title:"请输入有效的手机号码",icon:"none"}),!1;return!(!this.person.idcard||!/^(\d{15}|\d{17}[\dX])$/.test(this.person.idcard))||(n.showToast({title:"请输入有效的身份证号码",icon:"none"}),!1)}}};e.default=s}).call(this,t("df3c")["default"])},7123:function(n,e,t){"use strict";t.r(e);var o=t("4025"),s=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=s.a},f51b:function(n,e,t){"use strict";(function(n,e){var o=t("47a9");t("d090");o(t("3240"));var s=o(t("0d63"));n.__webpack_require_UNI_MP_PLUGIN__=t,e(s.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},f560:function(n,e,t){"use strict";t.d(e,"b",(function(){return s})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}));var o={uniEasyinput:function(){return t.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(t.bind(null,"80e2"))}},s=function(){var n=this.$createElement;this._self._c},i=[]}},[["f51b","common/runtime","common/vendor"]]]);