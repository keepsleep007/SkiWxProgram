(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ticket/personSelect"],{"115a":function(n,e,o){"use strict";o.r(e);var t=o("3117"),i=o("743b");for(var c in i)["default"].indexOf(c)<0&&function(n){o.d(e,n,(function(){return i[n]}))}(c);o("83e6");var u=o("828b"),r=Object(u["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],void 0);e["default"]=r.exports},"2fd3":function(n,e,o){"use strict";(function(n,e){var t=o("47a9");o("d090");t(o("3240"));var i=t(o("115a"));n.__webpack_require_UNI_MP_PLUGIN__=o,e(i.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},3117:function(n,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return c})),o.d(e,"a",(function(){return t}));var t={uIcon:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(o.bind(null,"48b6"))},uniPopup:function(){return o.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(o.bind(null,"8570"))},uniPopupDialog:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog")]).then(o.bind(null,"3b6c"))}},i=function(){var n=this.$createElement;this._self._c},c=[]},"36e0":function(n,e,o){},"3ccf":function(n,e,o){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o("b816"),i={data:function(){return{number:1,persons:{},orderSelect:""}},onLoad:function(n){console.log("onLoad",n),this.orderSelect=n.id,this.number=n.number},onShow:function(){console.log("onShow"),this.getUserContacts()},methods:{checkboxChange:function(n){var e=this;console.log("checkboxChange",n),this.persons.forEach((function(o){o.checkFlag=!1,n.detail.value.forEach((function(n){n===o.id&&(o.checkFlag=!0)})),e.orderSelect=n.detail.value.join(",")}))},toPersonAddPage:function(e){n.navigateTo({url:"/pages/ticket/personAdd"})},toPersonEdit:function(e){n.navigateTo({url:"/pages/ticket/personAdd?id="+e})},getUserContacts:function(){var n=this,e={};e.skiAppUserId=(0,t.getToken)(),this.request("/app_api/userContacts/getUserContacts",e,"GET").then((function(e){console.log(" getUserContacts",e),e&&200==e.code&&(e.data.forEach((function(e){n.orderSelect.includes(e.id)&&(e.checkFlag=!0)})),n.persons=e.data)}))},delUserInfo:function(n){this.delId=n,this.msgType="info",this.$refs.alertDialog.open()},dialogClose:function(){console.log("点击关闭")},dialogConfirm:function(){var e=this;console.log("点击确认");var o={};o.id=this.delId,this.request("/app_api/userContacts/delUserInfoApp",o,"POST").then((function(o){o&&(console.log("delUserInfoApp",o),200==o.code&&(e.getUserContacts(),n.showToast({title:"删除成功",icon:"none",duration:2e3})))}))},sub:function(){var e=[];this.persons.forEach((function(n){n.checkFlag&&e.push(n)})),e.length>this.number?n.showToast({title:"购票数量为："+this.number+"，选择人数不能大于购票数量",icon:"none",duration:2e3}):(n.setStorageSync("selectedPersons",e),n.navigateBack())}}};e.default=i}).call(this,o("df3c")["default"])},"743b":function(n,e,o){"use strict";o.r(e);var t=o("3ccf"),i=o.n(t);for(var c in t)["default"].indexOf(c)<0&&function(n){o.d(e,n,(function(){return t[n]}))}(c);e["default"]=i.a},"83e6":function(n,e,o){"use strict";var t=o("36e0"),i=o.n(t);i.a}},[["2fd3","common/runtime","common/vendor"]]]);