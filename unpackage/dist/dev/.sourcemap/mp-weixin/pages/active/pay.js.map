{"version":3,"sources":["uni-app:///main.js","webpack:///C:/MySoftware/IDEAWorkSpace/SkiWxProgram/pages/active/pay.vue?3960","webpack:///C:/MySoftware/IDEAWorkSpace/SkiWxProgram/pages/active/pay.vue?9d6f","webpack:///C:/MySoftware/IDEAWorkSpace/SkiWxProgram/pages/active/pay.vue?996b","webpack:///C:/MySoftware/IDEAWorkSpace/SkiWxProgram/pages/active/pay.vue?9448","uni-app:///pages/active/pay.vue","webpack:///C:/MySoftware/IDEAWorkSpace/SkiWxProgram/pages/active/pay.vue?20d6","webpack:///C:/MySoftware/IDEAWorkSpace/SkiWxProgram/pages/active/pay.vue?ddab"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","payType","orderId","orderType","orderInfo","payment","serverTime","countdown","payBtn","computed","onLoad","console","onShow","methods","getTicketOrderinfo","requestParam","getActiveOrderinfo","getTeackerOrderinfo","changePayType","confirm","requestPayment","uni","provider","timeStamp","nonceStr","package","signType","paySign","success","url","fail","getServerTime","calculateCountdown","updateCountdown","formatDate","datePart","timePart","year","month","day","hours","minutes","seconds","beforeDestroy","clearInterval"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,YAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACc;;;AAGhE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,6mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACmCpnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC,WAEA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cACAC;cACA;cACA;cACA;gBACA;gBACA;cACA;cACA;gBACA;gBACA;cACA;cACA;gBACA;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;MACAC;MACA;MACAA;MACA;QACAJ;QACA;UACA;YACA;YACA;cACA;YACA;YACA;UACA;QACA;MACA;IACA;IACAK;MAAA;MACA;MACA;MACAD;MACA;MACAA;MACA;QACAJ;QACA;UACA;YACA;YACA;cACA;YACA;YACA;UACA;QACA;MACA;IACA;IACAM;MAAA;MACA;MACA;MACAF;MACA;MACAA;MACA;QACAJ;QACA;UACA;YACA;YACA;cACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAO;MACA;IACA;IACA;IACAC;MAAA;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;kBACAJ,mBACA;kBACAA;kBACAA;kBACA;oBACAJ;oBACA;sBACA;wBACA;wBACA;sBACA;oBACA;kBACA;gBACA;gBACA;gBACA;kBACAI,oBACA;kBACAA;kBACAA;kBACA;oBACAJ;oBACA;sBACA;wBACA;wBACA;sBACA;oBACA;kBACA;gBACA;gBACA;gBACA;kBACAI,qBACA;kBACAA;kBACAA;kBACA;oBACAJ;oBACA;sBACA;wBACA;wBACA;sBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;MAAA;IAAA;IACAS;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UACAjB;UACA;UACAU;YACAQ;UACA;QACA;QACAC;UACAnB;QACA;MACA;IACA;IACAoB;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACA;oBACApB;oBACA;sBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAqB;MACA;MACA;MACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;QAAAC;QAAAC;MACA;QAAA;QAAAC;QAAAC;QAAAC;MACA;QAAA;QAAAC;QAAAC;QAAAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACAC;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtQA;AAAA;AAAA;AAAA;AAA2oC,CAAgB,4lCAAG,EAAC,C;;;;;;;;;;;ACA/pC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/active/pay.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/active/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=19f8a850&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/active/pay.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=19f8a850&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"app\">\r\n\t\t<view class=\"price-box\">\r\n\t\t\t<text>支付金额</text>\r\n\t\t\t<text class=\"price\">{{orderInfo.wantPayMoney}}</text>\r\n\t\t\t<text>请在{{ countdown }}内完成支付</text>\r\n\t\t</view>\r\n\t\t<view class=\"pay-type-list\">\r\n\t\t\t<view class=\"type-item b-b\" @click=\"changePayType(1)\">\r\n\t\t\t\t<u-icon name=\"weixin-circle-fill\" color=\"#36cb59\" size=\"38\"></u-icon>\r\n\t\t\t\t<view class=\"con\">\r\n\t\t\t\t\t<text class=\"tit\">微信支付</text>\r\n\t\t\t\t\t<text>推荐使用微信支付</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<label class=\"radio\">\r\n\t\t\t\t\t<radio value=\"\" color=\"#fa436a\" :checked='payType == 1' />\r\n\t\t\t\t\t</radio>\r\n\t\t\t\t</label>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"type-item b-b\" @click=\"changePayType(2)\">\r\n\t\t\t\t<text class=\"icon yticon icon-alipay\"></text>\r\n\t\t\t\t<view class=\"con\">\r\n\t\t\t\t\t<text class=\"tit\">支付宝支付</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<label class=\"radio\">\r\n\t\t\t\t\t<radio value=\"\" color=\"#fa436a\" :checked='payType == 2' />\r\n\t\t\t\t\t</radio>\r\n\t\t\t\t</label>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\t\t<text v-if=\"payBtn\" class=\"mix-btn\" @click=\"confirm\">确认支付</text>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetToken\r\n\t} from '@/utils/auth';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//支付方式，默认选择微信支付\r\n\t\t\t\tpayType: 1,\r\n\t\t\t\t//订单id\r\n\t\t\t\torderId: '',\r\n\t\t\t\t//订单类型 1-雪票 0-活动\r\n\t\t\t\torderType: '',\r\n\t\t\t\t//订单信息数据\r\n\t\t\t\torderInfo: {},\r\n\t\t\t\t//支付信息数据\r\n\t\t\t\tpayment: {},\r\n\t\t\t\t//服务器时间\r\n\t\t\t\tserverTime: 0,\r\n\t\t\t\t// 初始化倒计时\r\n\t\t\t\tcountdown: '10:00',\r\n\t\t\t\t//支付按钮显示控制\r\n\t\t\t\tpayBtn: true\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tconsole.log(options)\r\n\t\t\tthis.orderId = options.orderId\r\n\t\t\tthis.orderType = options.type\r\n\t\t\tif (options.type == '1') {\r\n\t\t\t\t//查询订单信息（雪票订单）\r\n\t\t\t\tthis.getTicketOrderinfo();\r\n\t\t\t}\r\n\t\t\tif (options.type == '0') {\r\n\t\t\t\t//查询订单信息（活动订单）\r\n\t\t\t\tthis.getActiveOrderinfo();\r\n\t\t\t}\r\n\t\t\tif (options.type == '2') {\r\n\t\t\t\t//查询订单信息（教练订单）\r\n\t\t\t\tthis.getTeackerOrderinfo();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getServerTime();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetTicketOrderinfo() {\r\n\t\t\t\tlet requestParam = {};\r\n\t\t\t\t//订单id\r\n\t\t\t\trequestParam.id = this.orderId\r\n\t\t\t\t//创建人id,只允许查询自己创建的订单\r\n\t\t\t\trequestParam.createBy = getToken();\r\n\t\t\t\tthis.request('/app_api/ticket/getOrderinfo', requestParam, 'GET').then(res => {\r\n\t\t\t\t\tconsole.log(\"getTicketOrderinfo:\", res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.updateCountdown(res.data.createTime);\r\n\t\t\t\t\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\t\t\t\t\tthis.updateCountdown(res.data.createTime);\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\tthis.orderInfo = res.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetActiveOrderinfo() {\r\n\t\t\t\tlet requestParam = {};\r\n\t\t\t\t//订单id\r\n\t\t\t\trequestParam.id = this.orderId\r\n\t\t\t\t//创建人id,只允许查询自己创建的订单\r\n\t\t\t\trequestParam.createBy = getToken();\r\n\t\t\t\tthis.request('/app_api/activity/getOrderInfo', requestParam, 'GET').then(res => {\r\n\t\t\t\t\tconsole.log(\"getActiveOrderinfo:\", res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.updateCountdown(res.data.createTime);\r\n\t\t\t\t\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\t\t\t\t\tthis.updateCountdown(res.data.createTime);\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\tthis.orderInfo = res.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetTeackerOrderinfo() {\r\n\t\t\t\tlet requestParam = {};\r\n\t\t\t\t//订单id\r\n\t\t\t\trequestParam.id = this.orderId;\r\n\t\t\t\t//创建人id,只允许查询自己创建的订单\r\n\t\t\t\trequestParam.createBy = getToken();\r\n\t\t\t\tthis.request('/app_api/teacher/getOrderinfo', requestParam, 'GET').then(res => {\r\n\t\t\t\t\tconsole.log(\"getTeackerOrderinfo:\", res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.updateCountdown(res.data.createTime);\r\n\t\t\t\t\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\t\t\t\t\tthis.updateCountdown(res.data.createTime);\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\tthis.orderInfo = res.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//选择支付方式\r\n\t\t\tchangePayType(type) {\r\n\t\t\t\tthis.payType = type;\r\n\t\t\t},\r\n\t\t\t//确认支付,调用后台创建预支付订单\r\n\t\t\tconfirm: async function() {\r\n\t\t\t\t//活动订单\r\n\t\t\t\tif (this.orderType == '0') {\r\n\t\t\t\t\tlet requestParam = {};\r\n\t\t\t\t\t//雪场id\r\n\t\t\t\t\trequestParam.id = this.orderId\r\n\t\t\t\t\trequestParam.createBy = getToken();\r\n\t\t\t\t\tthis.request('/app_api/activity/createPayment', requestParam, 'POST').then(res => {\r\n\t\t\t\t\t\tconsole.log(\"createPayment:\", res)\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\t\tthis.payment = res.data\r\n\t\t\t\t\t\t\t\tthis.requestPayment(this.payment);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//雪票订单\r\n\t\t\t\tif (this.orderType == '1') {\r\n\t\t\t\t\tlet requestParam = {};\r\n\t\t\t\t\t//雪场id\r\n\t\t\t\t\trequestParam.id = this.orderId\r\n\t\t\t\t\trequestParam.createBy = getToken();\r\n\t\t\t\t\tthis.request('/app_api/ticket/createPayment', requestParam, 'POST').then(res => {\r\n\t\t\t\t\t\tconsole.log(\"createPayment:\", res)\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\t\tthis.payment = res.data\r\n\t\t\t\t\t\t\t\tthis.requestPayment(this.payment);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//教练订单\r\n\t\t\t\tif (this.orderType == '2') {\r\n\t\t\t\t\tlet requestParam = {};\r\n\t\t\t\t\t//雪场id\r\n\t\t\t\t\trequestParam.id = this.orderId\r\n\t\t\t\t\trequestParam.createBy = getToken();\r\n\t\t\t\t\tthis.request('/app_api/teacher/createPayment', requestParam, 'POST').then(res => {\r\n\t\t\t\t\t\tconsole.log(\"createPayment:\", res)\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\t\tthis.payment = res.data\r\n\t\t\t\t\t\t\t\tthis.requestPayment(this.payment);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trequestPayment(payment) {\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\ttimeStamp: payment.timeStamp,\r\n\t\t\t\t\tnonceStr: payment.nonceStr,\r\n\t\t\t\t\tpackage: payment.packageVal,\r\n\t\t\t\t\tsignType: payment.signType,\r\n\t\t\t\t\tpaySign: payment.paySign,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log('success:' + JSON.stringify(res));\r\n\t\t\t\t\t\t//success:{\"errMsg\":\"requestPayment:ok\"}\r\n\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\turl: '/pages/active/paySuccess'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync getServerTime() {\r\n\t\t\t\tawait this.request('/app_api/util/getServerTime', '', 'GET').then(res => {\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tconsole.log(\"getServerTime\", res)\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.serverTime = res.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcalculateCountdown(createTime) {\r\n\t\t\t\tconst createTimeTimestamp = new Date(createTime).getTime() / 1000;\r\n\t\t\t\tconst orderExpirationTime = createTimeTimestamp + 10 * 60; // 订单过期时间为创建时间后的10分钟\r\n\t\t\t\tconst currentTime = this.serverTime + (Date.now() / 1000 - this.serverTime); // 当前时间基于服务器时间\r\n\t\t\t\tconst remainingTime = orderExpirationTime - currentTime;\r\n\t\t\t\tif (remainingTime <= 0) {\r\n\t\t\t\t\tthis.payBtn = false;\r\n\t\t\t\t\treturn '00:00';\r\n\t\t\t\t}\r\n\t\t\t\tconst minutes = Math.floor(remainingTime / 60);\r\n\t\t\t\tconst seconds = Math.floor(remainingTime % 60);\r\n\t\t\t\treturn `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;\r\n\t\t\t},\r\n\t\t\tupdateCountdown(createTime) {\r\n\t\t\t\tlet formattedDate = this.formatDate(createTime)\r\n\t\t\t\tthis.countdown = this.calculateCountdown(formattedDate);\r\n\t\t\t},\r\n\t\t\tformatDate(dateString) {\r\n\t\t\t\t// 手动解析日期字符串,(IOS不兼容 yyyy-MM-dd 格式的日期，必须是yyyy/MM/dd)\r\n\t\t\t\tconst [datePart, timePart] = dateString.split(' ');\r\n\t\t\t\tconst [year, month, day] = datePart.split('-');\r\n\t\t\t\tconst [hours, minutes, seconds] = timePart.split(':');\r\n\t\t\t\t// 创建 Date 对象\r\n\t\t\t\tconst date = new Date(year, month - 1, day, hours, minutes, seconds);\r\n\t\t\t\t// 格式化输出\r\n\t\t\t\tconst yearStr = String(date.getFullYear());\r\n\t\t\t\tconst monthStr = String(date.getMonth() + 1).padStart(2, '0');\r\n\t\t\t\tconst dayStr = String(date.getDate()).padStart(2, '0');\r\n\t\t\t\tconst hoursStr = String(date.getHours()).padStart(2, '0');\r\n\t\t\t\tconst minutesStr = String(date.getMinutes()).padStart(2, '0');\r\n\t\t\t\tconst secondsStr = String(date.getSeconds()).padStart(2, '0');\r\n\t\t\t\treturn `${yearStr}/${monthStr}/${dayStr} ${hoursStr}:${minutesStr}:${secondsStr}`;\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tclearInterval(this.interval);\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang='scss'>\r\n\t.app {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.price-box {\r\n\t\tbackground-color: #fff;\r\n\t\theight: 265upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 28upx;\r\n\t\tcolor: #909399;\r\n\r\n\t\t.price {\r\n\t\t\tfont-size: 50upx;\r\n\t\t\tcolor: #303133;\r\n\t\t\tmargin-top: 12upx;\r\n\r\n\t\t\t&:before {\r\n\t\t\t\tcontent: '￥';\r\n\t\t\t\tfont-size: 40upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.pay-type-list {\r\n\t\tmargin-top: 20upx;\r\n\t\tbackground-color: #fff;\r\n\r\n\t\t.type-item {\r\n\t\t\theight: 120upx;\r\n\t\t\tpadding: 20upx 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding-right: 60upx;\r\n\t\t\tpadding-left: 60upx;\r\n\t\t\tfont-size: 30upx;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.icon {\r\n\t\t\twidth: 100upx;\r\n\t\t\tfont-size: 52upx;\r\n\t\t}\r\n\r\n\t\t.tit {\r\n\t\t\tfont-size: $font-lg;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t\tmargin-bottom: 4upx;\r\n\t\t}\r\n\r\n\t\t.con {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tfont-size: $font-sm;\r\n\t\t\tcolor: $font-color-light;\r\n\t\t\tmargin-left: 10px;\r\n\t\t}\r\n\t}\r\n\r\n\t.mix-btn {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 630upx;\r\n\t\theight: 80upx;\r\n\t\tmargin: 80upx auto 30upx;\r\n\t\tfont-size: $font-lg;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: $base-color;\r\n\t\tborder-radius: 10upx;\r\n\t\tbox-shadow: 1px 2px 5px rgba(219, 63, 96, 0.4);\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1737523168558\n      var cssReload = require(\"C:/MySoftware/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}